<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Session 3 Organizing Research Projects for Reproducibility | Reproducible Research for Conservation — Mérida, Mexico</title>
  <meta name="description" content="A book example for a Chapman &amp; Hall book." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Session 3 Organizing Research Projects for Reproducibility | Reproducible Research for Conservation — Mérida, Mexico" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book example for a Chapman &amp; Hall book." />
  <meta name="github-repo" content="yihui/bookdown-crc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Session 3 Organizing Research Projects for Reproducibility | Reproducible Research for Conservation — Mérida, Mexico" />
  
  <meta name="twitter:description" content="A book example for a Chapman &amp; Hall book." />
  

<meta name="author" content="Eric C. Anderson, Christen Bossu, Richard Evan Feldman, Kristen C. Ruegg, Marius Somveille" />


<meta name="date" content="2022-01-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-the-tidyverse.html"/>
<link rel="next" href="envdata.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<script src="libs/kePrint/kePrint.js"></script>
<link href="libs/lightable/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mérida Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="congen-intro.html"><a href="congen-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to Conservation Genomics Approaches</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>2</b> Introduction to the tidyverse</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#what-on-earth-is-the-tidyerse"><i class="fa fa-check"></i><b>2.1</b> What on earth is the tidyerse?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#an-example-data-set"><i class="fa fa-check"></i><b>2.2</b> An example data set</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#reading-data-in-the-tidyverse"><i class="fa fa-check"></i><b>2.3</b> Reading data in the tidyverse</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#a-word-on-tibbles"><i class="fa fa-check"></i><b>2.4</b> A word on tibbles</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#back-to-tidying-up-our-genotype-data"><i class="fa fa-check"></i><b>2.5</b> Back to “tidying” up our genotype data</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#what-the-heck-is-that-thingie"><i class="fa fa-check"></i><b>2.6</b> What the heck is that <code>%&gt;%</code> thingie?!</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#the-dplyr-package-the-heart-of-the-tidyverse"><i class="fa fa-check"></i><b>2.7</b> The ‘dplyr’ package: the heart of the tidyverse</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#non-standard-evaluation-nse-you-dont-wrap-column-names-in-quotation-marks"><i class="fa fa-check"></i><b>2.7.1</b> Non-standard Evaluation (NSE): You don’t wrap column names in quotation marks</a></li>
<li class="chapter" data-level="2.7.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#select-to-select-columns-of-a-tibble"><i class="fa fa-check"></i><b>2.7.2</b> <code>select()</code> to select columns of a tibble</a></li>
<li class="chapter" data-level="2.7.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filter-to-retain-certain-rows"><i class="fa fa-check"></i><b>2.7.3</b> <code>filter()</code> to retain certain rows</a></li>
<li class="chapter" data-level="2.7.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange-to-reorder-the-rows-of-the-tibble"><i class="fa fa-check"></i><b>2.7.4</b> <code>arrange()</code> to reorder the rows of the tibble</a></li>
<li class="chapter" data-level="2.7.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate-to-create-new-columns"><i class="fa fa-check"></i><b>2.7.5</b> <code>mutate()</code> to create new columns</a></li>
<li class="chapter" data-level="2.7.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#compute-a-single-value-from-many-rows-summarise"><i class="fa fa-check"></i><b>2.7.6</b> Compute a single value from many rows: <code>summarise()</code></a></li>
<li class="chapter" data-level="2.7.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group_by-to-operate-tidily-on-subsets-of-a-tibble"><i class="fa fa-check"></i><b>2.7.7</b> <code>group_by()</code> to operate tidily on subsets of a tibble</a></li>
<li class="chapter" data-level="2.7.8" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#joins"><i class="fa fa-check"></i><b>2.7.8</b> Joins</a></li>
<li class="chapter" data-level="2.7.9" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#wrap-up"><i class="fa fa-check"></i><b>2.7.9</b> Wrap Up</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#modeling-within-the-tidyverse"><i class="fa fa-check"></i><b>2.8</b> Modeling within the Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="reporg.html"><a href="reporg.html"><i class="fa fa-check"></i><b>3</b> Organizing Research Projects for Reproducibility</a>
<ul>
<li class="chapter" data-level="3.1" data-path="reporg.html"><a href="reporg.html#goals-for-this-session"><i class="fa fa-check"></i><b>3.1</b> Goals for this session</a></li>
<li class="chapter" data-level="3.2" data-path="reporg.html"><a href="reporg.html#why-do-this"><i class="fa fa-check"></i><b>3.2</b> Why do this?</a></li>
<li class="chapter" data-level="3.3" data-path="reporg.html"><a href="reporg.html#what-can-this-look-like"><i class="fa fa-check"></i><b>3.3</b> What can this look like?</a></li>
<li class="chapter" data-level="3.4" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-1-dont-save-your-r-workspace-and-then-reload-it"><i class="fa fa-check"></i><b>3.4</b> Reproducibility Edict #1: Don’t Save Your R Workspace and then Reload It</a></li>
<li class="chapter" data-level="3.5" data-path="reporg.html"><a href="reporg.html#paths-an-important-concept-for-reproducibility"><i class="fa fa-check"></i><b>3.5</b> Paths, an important concept for reproducibility</a></li>
<li class="chapter" data-level="3.6" data-path="reporg.html"><a href="reporg.html#the-working-directory"><i class="fa fa-check"></i><b>3.6</b> The Working Directory</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="reporg.html"><a href="reporg.html#a-hugely-important-point"><i class="fa fa-check"></i><b>3.6.1</b> A Hugely Important Point!</a></li>
<li class="chapter" data-level="3.6.2" data-path="reporg.html"><a href="reporg.html#skeletal-anatomy-of-an-rstudio-project"><i class="fa fa-check"></i><b>3.6.2</b> Skeletal anatomy of an RStudio Project</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-2-dont-change-directories-in-your-code"><i class="fa fa-check"></i><b>3.7</b> Reproducibility Edict #2: Don’t Change Directories in Your Code</a></li>
<li class="chapter" data-level="3.8" data-path="reporg.html"><a href="reporg.html#relative-paths"><i class="fa fa-check"></i><b>3.8</b> Relative Paths</a></li>
<li class="chapter" data-level="3.9" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-3-always-use-relative-paths-from-the-project-directory-to-files-inside-the-project-directory"><i class="fa fa-check"></i><b>3.9</b> Reproducibility Edict #3: Always Use Relative Paths from the Project Directory to Files <em>inside</em> the Project Directory</a></li>
<li class="chapter" data-level="3.10" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-4-put-data-files-into-a-data-directory"><i class="fa fa-check"></i><b>3.10</b> Reproducibility Edict #4: Put data files into a <code>data</code> directory</a></li>
<li class="chapter" data-level="3.11" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-5-write-analysis-scripts-as-.r-or-.rmd-files"><i class="fa fa-check"></i><b>3.11</b> Reproducibility Edict #5: Write Analysis Scripts as <code>.R</code> or <code>.Rmd</code> files</a></li>
<li class="chapter" data-level="3.12" data-path="reporg.html"><a href="reporg.html#download-an-example-project-to-play-with"><i class="fa fa-check"></i><b>3.12</b> Download an example project to play with</a>
<ul>
<li class="chapter" data-level="3.12.1" data-path="reporg.html"><a href="reporg.html#lets-have-a-moment"><i class="fa fa-check"></i><b>3.12.1</b> Let’s have a moment</a></li>
</ul></li>
<li class="chapter" data-level="3.13" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-6-write-your-code-with-style"><i class="fa fa-check"></i><b>3.13</b> Reproducibility Edict #6: Write your code with style!</a></li>
<li class="chapter" data-level="3.14" data-path="reporg.html"><a href="reporg.html#what-about-shared-data-sets"><i class="fa fa-check"></i><b>3.14</b> What About Shared Data Sets?</a></li>
<li class="chapter" data-level="3.15" data-path="reporg.html"><a href="reporg.html#reproducibility-edict-7-use-git-for-version-control"><i class="fa fa-check"></i><b>3.15</b> Reproducibility Edict #7: Use git for Version Control</a></li>
<li class="chapter" data-level="3.16" data-path="reporg.html"><a href="reporg.html#in-the-meantime-a-short-demo-of-gitgithub-on-rstudio"><i class="fa fa-check"></i><b>3.16</b> In the meantime, a short demo of git/GitHub on RStudio</a></li>
<li class="chapter" data-level="3.17" data-path="reporg.html"><a href="reporg.html#what-to-keep-under-version-control-and-what-not-to"><i class="fa fa-check"></i><b>3.17</b> What to keep under version control and what not to</a></li>
<li class="chapter" data-level="3.18" data-path="reporg.html"><a href="reporg.html#create-a-readme-to-describe-the-parts-of-your-analysis-project"><i class="fa fa-check"></i><b>3.18</b> Create a README to describe the parts of your analysis project</a></li>
<li class="chapter" data-level="3.19" data-path="reporg.html"><a href="reporg.html#github-and-very-large-data-sets"><i class="fa fa-check"></i><b>3.19</b> GitHub and Very large data sets</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="envdata.html"><a href="envdata.html"><i class="fa fa-check"></i><b>4</b> Finding and Obtaining Environmental Data for Conservation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="envdata.html"><a href="envdata.html#environmental-layers.-a-general-overview"><i class="fa fa-check"></i><b>4.1</b> Environmental Layers. A general overview</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="envdata.html"><a href="envdata.html#environmental-layers-in-conservation-genetics"><i class="fa fa-check"></i><b>4.1.1</b> Environmental layers in conservation genetics</a></li>
<li class="chapter" data-level="4.1.2" data-path="envdata.html"><a href="envdata.html#environmental-layers-as-raster-data"><i class="fa fa-check"></i><b>4.1.2</b> Environmental layers as raster data</a></li>
<li class="chapter" data-level="4.1.3" data-path="envdata.html"><a href="envdata.html#coordinate-system-and-projections"><i class="fa fa-check"></i><b>4.1.3</b> Coordinate system and projections</a></li>
<li class="chapter" data-level="4.1.4" data-path="envdata.html"><a href="envdata.html#parameters-of-raster-data"><i class="fa fa-check"></i><b>4.1.4</b> Parameters of raster data</a></li>
<li class="chapter" data-level="4.1.5" data-path="envdata.html"><a href="envdata.html#examples-of-climate-layers"><i class="fa fa-check"></i><b>4.1.5</b> Examples of climate layers</a></li>
<li class="chapter" data-level="4.1.6" data-path="envdata.html"><a href="envdata.html#examples-of-atmospheric-layers"><i class="fa fa-check"></i><b>4.1.6</b> Examples of atmospheric layers</a></li>
<li class="chapter" data-level="4.1.7" data-path="envdata.html"><a href="envdata.html#examples-of-vegetation-layers"><i class="fa fa-check"></i><b>4.1.7</b> Examples of vegetation layers</a></li>
<li class="chapter" data-level="4.1.8" data-path="envdata.html"><a href="envdata.html#examples-of-landscape-layers"><i class="fa fa-check"></i><b>4.1.8</b> Examples of landscape layers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="spatdata.html"><a href="spatdata.html"><i class="fa fa-check"></i><b>5</b> Handling and Visualizing Spatial Data in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="spatdata.html"><a href="spatdata.html#handling-spatial-rasters-in-r"><i class="fa fa-check"></i><b>5.1</b> Handling Spatial Rasters in R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="spatdata.html"><a href="spatdata.html#reading-and-printing-raster-data"><i class="fa fa-check"></i><b>5.1.1</b> Reading and Printing Raster Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="spatdata.html"><a href="spatdata.html#plotting-raster-data-with-plot"><i class="fa fa-check"></i><b>5.1.2</b> Plotting Raster Data with <code>plot()</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="spatdata.html"><a href="spatdata.html#plotting-raster-data-with-ggplot2"><i class="fa fa-check"></i><b>5.1.3</b> Plotting raster data with ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="spatdata.html"><a href="spatdata.html#vector-spatial-data"><i class="fa fa-check"></i><b>5.2</b> Vector Spatial Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="spatdata.html"><a href="spatdata.html#vector-data-features"><i class="fa fa-check"></i><b>5.2.1</b> Vector data features</a></li>
<li class="chapter" data-level="5.2.2" data-path="spatdata.html"><a href="spatdata.html#shapefiles"><i class="fa fa-check"></i><b>5.2.2</b> Shapefiles</a></li>
<li class="chapter" data-level="5.2.3" data-path="spatdata.html"><a href="spatdata.html#spatial-vector-data-in-r"><i class="fa fa-check"></i><b>5.2.3</b> Spatial vector data in R</a></li>
<li class="chapter" data-level="5.2.4" data-path="spatdata.html"><a href="spatdata.html#an-example-mexican-states"><i class="fa fa-check"></i><b>5.2.4</b> An example: Mexican states</a></li>
<li class="chapter" data-level="5.2.5" data-path="spatdata.html"><a href="spatdata.html#plotting-simple-features-with-ggplot"><i class="fa fa-check"></i><b>5.2.5</b> Plotting simple features with <code>ggplot()</code></a></li>
<li class="chapter" data-level="5.2.6" data-path="spatdata.html"><a href="spatdata.html#a-word-about-coord_sf"><i class="fa fa-check"></i><b>5.2.6</b> A word about <code>coord_sf()</code></a></li>
<li class="chapter" data-level="5.2.7" data-path="spatdata.html"><a href="spatdata.html#a-word-about-resolution-of-spatial-vector-data"><i class="fa fa-check"></i><b>5.2.7</b> A word about <em>resolution</em> of spatial vector data</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="spatdata.html"><a href="spatdata.html#yucatan-jay-occurrences"><i class="fa fa-check"></i><b>5.3</b> Yucatan Jay Occurrences</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="spatdata.html"><a href="spatdata.html#example-data-set-with-latitude-and-longitude-points"><i class="fa fa-check"></i><b>5.3.1</b> Example data set with Latitude and Longitude points</a></li>
<li class="chapter" data-level="5.3.2" data-path="spatdata.html"><a href="spatdata.html#plotting-lat-long-data"><i class="fa fa-check"></i><b>5.3.2</b> Plotting Lat-Long data</a></li>
<li class="chapter" data-level="5.3.3" data-path="spatdata.html"><a href="spatdata.html#but-geom_point-wont-work-with-different-projections-coordinate-reference-sysytems"><i class="fa fa-check"></i><b>5.3.3</b> But, <code>geom_point()</code> won’t work with Different Projections / Coordinate Reference Sysytems</a></li>
<li class="chapter" data-level="5.3.4" data-path="spatdata.html"><a href="spatdata.html#turning-something-into-a-simple-features-object"><i class="fa fa-check"></i><b>5.3.4</b> Turning something into a simple features object</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="spatdata.html"><a href="spatdata.html#geometric-operations"><i class="fa fa-check"></i><b>5.4</b> Geometric operations</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="spatdata.html"><a href="spatdata.html#spatial-intersection"><i class="fa fa-check"></i><b>5.4.1</b> Spatial Intersection</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="spatdata.html"><a href="spatdata.html#ideas"><i class="fa fa-check"></i><b>5.5</b> Ideas</a></li>
<li class="chapter" data-level="5.6" data-path="spatdata.html"><a href="spatdata.html#spat_data_appendix"><i class="fa fa-check"></i><b>5.6</b> Appendix: Obtaining and Reducing The Example Spatial Datasets</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="spatdata.html"><a href="spatdata.html#raster-data"><i class="fa fa-check"></i><b>5.6.1</b> Raster Data</a></li>
<li class="chapter" data-level="5.6.2" data-path="spatdata.html"><a href="spatdata.html#vector-data"><i class="fa fa-check"></i><b>5.6.2</b> Vector data</a></li>
<li class="chapter" data-level="5.6.3" data-path="spatdata.html"><a href="spatdata.html#species-occurrence-data"><i class="fa fa-check"></i><b>5.6.3</b> Species Occurrence Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="geassoc.html"><a href="geassoc.html"><i class="fa fa-check"></i><b>6</b> Genetic and Environmental Associations</a>
<ul>
<li class="chapter" data-level="6.1" data-path="geassoc.html"><a href="geassoc.html#background"><i class="fa fa-check"></i><b>6.1</b> Background</a></li>
<li class="chapter" data-level="6.2" data-path="geassoc.html"><a href="geassoc.html#motivation"><i class="fa fa-check"></i><b>6.2</b> Motivation</a></li>
<li class="chapter" data-level="6.3" data-path="geassoc.html"><a href="geassoc.html#housekeeping"><i class="fa fa-check"></i><b>6.3</b> Housekeeping</a></li>
<li class="chapter" data-level="6.4" data-path="geassoc.html"><a href="geassoc.html#running-gradient-forest"><i class="fa fa-check"></i><b>6.4</b> Running Gradient Forest</a></li>
<li class="chapter" data-level="6.5" data-path="geassoc.html"><a href="geassoc.html#basic-gradient-forest-preparation"><i class="fa fa-check"></i><b>6.5</b> Basic Gradient Forest Preparation</a></li>
<li class="chapter" data-level="6.6" data-path="geassoc.html"><a href="geassoc.html#defining-genomic-vulnerabilitygenomic-offset-given-future-climate-predictions"><i class="fa fa-check"></i><b>6.6</b> Defining “Genomic Vulnerability/Genomic offset” Given Future Climate Predictions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclude.html"><a href="conclude.html"><i class="fa fa-check"></i><b>7</b> Concluding Remarks / Parting Words</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Research for Conservation — Mérida, Mexico</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reporg" class="section level1" number="3">
<h1><span class="header-section-number">Session 3</span> Organizing Research Projects for Reproducibility</h1>
<div id="goals-for-this-session" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Goals for this session</h2>
<ol style="list-style-type: decimal">
<li>Learn strategies to make our research and particularly our
data analyses <em>reproducible</em>.</li>
<li><em>Reproducible</em> here means that we can
<ol style="list-style-type: lower-alpha">
<li>easily send someone a directory filled with
data and scripts, <em>and</em></li>
<li>it is nearly effortless for that person to
re-run your entire analysis, regenerating all of
your results, figures, and tables, <em>and</em></li>
<li>it is clear what all the different files and parts of
your analysis project are, and the order that they must
be run in.</li>
<li>there is no part of the analysis that is done “by hand.” (i.e.,
no data formatting is done by copying and pasting columns of
data in Excel.)</li>
</ol></li>
<li>The focus here is on using RStudio for make usefully reproducible
projects within R.</li>
</ol>
<p>The ideal we will be striving for is to be able to start from a raw data set and then write a computer program that conducts all the cleaning, manipulation, and analysis of the data, and presentation of the results, in an automated fashion.</p>
</div>
<div id="why-do-this" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Why do this?</h2>
<p>Carrying out analyses in this way carries a number of advantages to the researcher:</p>
<ul>
<li>Newly-collected data can be integrated easily into your analysis.</li>
<li>If a mistake is found in one section of your analysis, it is not terribly onerous to correct it and then re-run all the downstream analyses.</li>
<li>Revising a manuscript to address referee comments can be done quickly.</li>
<li>Years after publication, the exact steps taken to analyze the data will still be available should anyone ask you how, exactly, you did an analysis!</li>
<li>If you have to conduct similar analyses and produce similar reports on a regular bias with new data each time, you might be able to do this readily by merely updating your data and then automatically producing the entire report.</li>
<li>If someone finds an error in your work, they can fix it and then easily show you exactly what they did to fix it.</li>
</ul>
<p>Making research reproducible is good for the community:</p>
<ul>
<li>Others that would like to confirm your results can do so easily.</li>
<li>Someone wanting to apply your methods to their own data can easily do so.</li>
<li>Reproducibility makes it easier for everyone to learn more quickly from
what their colleagues have done.</li>
</ul>
<p>Finally:</p>
<ul>
<li>Most journals require, <em>at a minimum</em>, that the raw data used in a paper be
publicly archived and accessible.</li>
<li>Increasingly, journals require all the analysis code as well.</li>
</ul>
<p>If you have emphasized reproducibility throughout your project, these last two
are quite easy.</p>
</div>
<div id="what-can-this-look-like" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> What can this look like?</h2>
<p>Using R, RStudio and RMarkdown, and freely available tools and services such as git
and GitHub, it is possible to publish a reproducible project “website” that is
part of a GitHub repository that holds everything needed to reproduce all the
results.</p>
<p>One example from a project I did in the last few years is here:
<a href="https://eriqande.github.io/thompson-et-al-2020-chinook-salmon-migration-timing/index.html">https://eriqande.github.io/thompson-et-al-2020-chinook-salmon-migration-timing/index.html</a></p>
<p>It took a fair bit to put that together, but I find that I go back to it all
the time to direct colleagues and others to the code for certain
analyses.</p>
</div>
<div id="reproducibility-edict-1-dont-save-your-r-workspace-and-then-reload-it" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Reproducibility Edict #1: Don’t Save Your R Workspace and then Reload It</h2>
<p>R has a feature that lets you save your entire workspace, and then, at a later time,
reload it so that you can keep working.</p>
<ul>
<li>Don’t do it.</li>
<li>It is too easy to create R objects but not save the
code that produced them when saving and loading <code>.Rdata</code>.</li>
<li>“Save the code, not the workspace.”</li>
</ul>
<p>Also, in RStudio’s Global Options/Prefernces, make sure to disable
automatic saving of your workspace in RStudio and
<em>never</em> automatically load .Rdata when you open RStudio:</p>
<p><img src="images/rep-res/no_Rdata.png" width="652" /></p>
</div>
<div id="paths-an-important-concept-for-reproducibility" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Paths, an important concept for reproducibility</h2>
<ul>
<li>On your computer system, files can be stored inside directories.</li>
<li>A file’s location relative to the <em>root</em> of your computer’s filesystem
is called its <em>absolute path</em>.</li>
</ul>
<p>For example, on Windows:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb91-1"><a href="reporg.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the root is C:</span></span>
<span id="cb91-2"><a href="reporg.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;C:\Documents and Settings\Eric\My Documents\mydoc.txt&quot;</span></span></code></pre></div>
<p>Or on Mac:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb92-1"><a href="reporg.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the root is /</span></span>
<span id="cb92-2"><a href="reporg.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/Users/eriq/Documents/git-repos/merida-workshop-2022/merida-workshop-2022.Rproj</span></span></code></pre></div>
<p>Absolute Paths are, almost by definition, <em>NOT</em> reproducible. Everyone
has their computer set up differently.</p>
<p>If I am trying to run a script that my friend, Devon, gave me, and
one of his lines of code is:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="reporg.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;/Users/devon/Documents/stuff/data.csv&quot;</span>)</span></code></pre></div>
<p>Then, <em>that will not work for me</em>. In order to make that work,
I would have to get the file <code>data.csv</code> separately, put the it somewhere
on my computer, and then change the line of code above to reflect
that file’s location on my computer.</p>
<p>What a hassle!!</p>
</div>
<div id="the-working-directory" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> The Working Directory</h2>
<p>When R is running, it finds itself “stationed” in what is
called the “working directory.” For any R session, at any time,
that directory can be found with:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="reporg.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;/Users/eriq/Documents/git-repos/merida-workshop-2022&quot;</code></pre>
<p>Everybody try that.</p>
<div id="a-hugely-important-point" class="section level3" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> A Hugely Important Point!</h3>
<p>When you open an RStudio project, the working directory is always
automatically set to the Project Directory—that is, the directory
that holds the .Rproj file.</p>
<p>If you have disabled automatic loading of the <code>.Rdata</code> file, then
the R environment will also be completely empty—a blank slate!—when
you open an RStudio project.</p>
<p>That is how every analysis should start.</p>
</div>
<div id="skeletal-anatomy-of-an-rstudio-project" class="section level3" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Skeletal anatomy of an RStudio Project</h3>
<p><img src="images/rep-res/proj-folder.png" width="65%" style="display: block; margin: auto;" /></p>
<ul>
<li>The Project is basically everything that is inside the Project Directory.</li>
<li>The .Rproj file is just a text file listing a few preferences, but your operating
system recognizes it as an RStudio file. So, when you double-click it, it will open
the project up in RStudio. (This is a good way to open RStudio projects…)</li>
</ul>
</div>
</div>
<div id="reproducibility-edict-2-dont-change-directories-in-your-code" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Reproducibility Edict #2: Don’t Change Directories in Your Code</h2>
<p>The companion function to <code>getwd()</code> is <code>setwd()</code> which lets you
change the working directory. Generally you almost <em>never</em> want to
use <code>setwd()</code> in your code.</p>
</div>
<div id="relative-paths" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Relative Paths</h2>
<p>A relative path is a path that starts from the working directory. For example, if the
working directory contains a file called <code>time-series.csv</code>, then this will read it:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="reporg.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;time-series.csv&quot;</span>)</span></code></pre></div>
<p>If the working directory holds a directory called <code>data</code>, inside of which
is a file called <code>abundance.csv</code>, then this will work:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="reporg.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;data/abundance.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="reproducibility-edict-3-always-use-relative-paths-from-the-project-directory-to-files-inside-the-project-directory" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Reproducibility Edict #3: Always Use Relative Paths from the Project Directory to Files <em>inside</em> the Project Directory</h2>
<p>You should plan on having an RStudio Project for every project that you work on,
where, roughly, a project correponds to the work undertaken for a paper, publication,
thesis chapter, report, etc.</p>
<ul>
<li>Everything needed to reproduce the analysis should be included withing the Project Directory.</li>
<li>Assume the working directory is the Project Directory.</li>
<li>Reading files, use relative paths.</li>
</ul>
<p>This way, the Project Directory has all the data and files needed to run the whole
analysis.</p>
<p>You can just give an RStudio Project to someone and they can run everything
without changing paths, etc.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="reporg.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># good</span></span>
<span id="cb98-2"><a href="reporg.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;data/abundance.csv&quot;</span>)</span>
<span id="cb98-3"><a href="reporg.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;time-series.csv&quot;</span>)</span>
<span id="cb98-4"><a href="reporg.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;R/my-functions.R&quot;</span>)</span>
<span id="cb98-5"><a href="reporg.html#cb98-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-6"><a href="reporg.html#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="co"># bad:</span></span>
<span id="cb98-7"><a href="reporg.html#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;/Users/eriq/files/data/abundance.csv&quot;</span>)</span>
<span id="cb98-8"><a href="reporg.html#cb98-8" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;C:/Documents and Settings/data/abundance.csv&quot;</span>)</span>
<span id="cb98-9"><a href="reporg.html#cb98-9" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;../../../useful_stuff/my-functions.R&quot;</span>)</span></code></pre></div>
<p>Note, the last “bad” example above uses a relative path to a file
that is <em>outside</em> of the Project Directory.</p>
</div>
<div id="reproducibility-edict-4-put-data-files-into-a-data-directory" class="section level2" number="3.10">
<h2><span class="header-section-number">3.10</span> Reproducibility Edict #4: Put data files into a <code>data</code> directory</h2>
<p>This <code>data</code> directory should be at the top level of the Project Directory.</p>
</div>
<div id="reproducibility-edict-5-write-analysis-scripts-as-.r-or-.rmd-files" class="section level2" number="3.11">
<h2><span class="header-section-number">3.11</span> Reproducibility Edict #5: Write Analysis Scripts as <code>.R</code> or <code>.Rmd</code> files</h2>
<ul>
<li>These scripts/RMarkdown-documents/notebooks should be at the <em>top level</em>
of the Project Directory</li>
<li>These should be named with a leading number (I like three digits, like <code>001</code>, <code>002</code>, etc.)
that gives the <em>order</em> in which they should be executed.</li>
</ul>
<p>Sometimes later scripts use, as inputs, outputs from earlier scripts,
in which case the order that they are run in becomes paramount.</p>
</div>
<div id="download-an-example-project-to-play-with" class="section level2" number="3.12">
<h2><span class="header-section-number">3.12</span> Download an example project to play with</h2>
<p>At this juncture, let’s all download a simple RStudio project to play
with. The project is at:</p>
<p><a href="https://github.com/eriqande/small_project">https://github.com/eriqande/small_project</a></p>
<p>You can either:</p>
<ul>
<li>navigate there with a browser, click the green “code” button and “Download ZIP”; then expand that zip archive into a single Project Directory.</li>
</ul>
<p>When you have it, navigate into the <code>small_project</code> directory
and double click the <code>small_project.Rproj</code> file to open the project
in RStudio.</p>
<ul>
<li>if you have git, then you can open the project directly from RStudio
using: File-&gt;New Project-&gt;Version Control-&gt;Git and then put:</li>
</ul>
<div class="sourceCode" id="cb99"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb99-1"><a href="reporg.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="ex">https://github.com/eriqande/small_project.git</span></span></code></pre></div>
<p>into the Repository URL box.</p>
<div id="lets-have-a-moment" class="section level3" number="3.12.1">
<h3><span class="header-section-number">3.12.1</span> Let’s have a moment</h3>
<p>Take a moment to open up that project, and try to evaluate
the notebooks:</p>
<ul>
<li><code>001-read-and-format.Rmd</code></li>
<li><code>002-plot-data.Rmd</code></li>
</ul>
<p>Let’s discuss the structure of the project and have time for questions.</p>
<p>In particular let’s talk about the R Notebook format: a combination of
explanatory text and code chunks that provides a way of
cleanly documenting your findings.</p>
</div>
</div>
<div id="reproducibility-edict-6-write-your-code-with-style" class="section level2" number="3.13">
<h2><span class="header-section-number">3.13</span> Reproducibility Edict #6: Write your code with style!</h2>
<p>R code is a lot easier to read when it is formatted in a consistent
style. Your homework is to read the [Tidyverse Style Guide)[<a href="https://style.tidyverse.org/" class="uri">https://style.tidyverse.org/</a>].
It takes about an hour and is extremely informative.</p>
<p>Following the guidelines in the style guide will make it easier for you
(and others) to read and understand your code.</p>
</div>
<div id="what-about-shared-data-sets" class="section level2" number="3.14">
<h2><span class="header-section-number">3.14</span> What About Shared Data Sets?</h2>
<p>A quick sidebar about the ‘googlesheets4’ package.</p>
<ul>
<li>For some projects, you might want to retrieve data that your
research team keeps centralized.</li>
<li>Often that will be in a data base. In that case there are
ways of accessing those data bases through R (but that is
beyond the scope of today’s exploration.)</li>
<li>Other times, pertinent information might be stored in a shared
Google Sheet (that is Google’s Spreadsheet Format).</li>
</ul>
<p>For example, your lab might keep meta data about samples of birds or fish in a Google
Sheet that is shared among lab members and is being frequently updated.</p>
<p>For some projects (like for permit reporting requirements) it might be nice to
have R code that directly accesses the current version of that document.</p>
<p>You can!</p>
<p>If you don’t already have ‘googlesheets4’ package, then:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="reporg.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;googlesheets4&quot;</span>)</span></code></pre></div>
<p>Imagine that someone has shared this <a href="https://docs.google.com/spreadsheets/d/1-7qG0X8M0TmyzB4Jaad6pNhV_SmcOY6T5JJk53dFU50/edit?usp=sharing">Google Sheet</a>
with you. Click the link to view it.</p>
<p>This is a publicly accessible sheet of data, so no authentication is needed to
view it. Thus you can do:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="reporg.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(googlesheets4) </span>
<span id="cb101-2"><a href="reporg.html#cb101-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-3"><a href="reporg.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="co"># this is just storing the web address of the sheet</span></span>
<span id="cb101-4"><a href="reporg.html#cb101-4" aria-hidden="true" tabindex="-1"></a>sheet_url <span class="ot">&lt;-</span> <span class="st">&quot;https://docs.google.com/spreadsheets/d/1-7qG0X8M0TmyzB4Jaad6pNhV_SmcOY6T5JJk53dFU50/edit?usp=sharing&quot;</span></span>
<span id="cb101-5"><a href="reporg.html#cb101-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-6"><a href="reporg.html#cb101-6" aria-hidden="true" tabindex="-1"></a><span class="co"># this tells R to not bother with Google authentication for this session</span></span>
<span id="cb101-7"><a href="reporg.html#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="fu">gs4_deauth</span>()</span>
<span id="cb101-8"><a href="reporg.html#cb101-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-9"><a href="reporg.html#cb101-9" aria-hidden="true" tabindex="-1"></a>fish_sheet <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(sheet_url)</span></code></pre></div>
<pre><code>## ✓ Reading from &quot;wgs-chinook-samples&quot;.</code></pre>
<pre><code>## ✓ Range &#39;wgs-chinook-samples&#39;.</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="reporg.html#cb104-1" aria-hidden="true" tabindex="-1"></a>fish_sheet</span></code></pre></div>
<pre><code>## # A tibble: 160 × 8
##    vcf_name    ID_Berk  NMFS_DNA_ID BOX_ID BOX_POSITION
##    &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;       
##  1 DPCh_plate… CH_Plat… T144767     T1512  1A          
##  2 DPCh_plate… CH_Plat… T144804     T1512  5F          
##  3 DPCh_plate… CH_Plat… T145109     T1515  7G          
##  4 DPCh_plate… CH_Plat… T145118     T1515  8H          
##  5 DPCh_plate… CH_Plat… T144863     T1513  1A          
##  6 DPCh_plate… CH_Plat… T144906     T1513  6D          
##  7 DPCh_plate… CH_Plat… T145128     T1515  10B         
##  8 DPCh_plate… CH_Plat… T145142     T1515  11H         
##  9 DPCh_plate… CH_Plat… T144959     T1514  1A          
## 10 DPCh_plate… CH_Plat… T144980     T1514  3F          
## # … with 150 more rows, and 3 more variables:
## #   Population &lt;chr&gt;, Concentration (ng/ul) &lt;dbl&gt;,
## #   run_type &lt;chr&gt;</code></pre>
<p>If you are using this to access a sheet that is not publicly shared, then
omit the <code>gs4_deauth()</code> command (in a new R session), and R will send you to your
browser to authenticate with a google account. (It is quite simple and user friendly!)</p>
<p>More information is at the <a href="https://googlesheets4.tidyverse.org/">googlesheets4 web page</a>.</p>
</div>
<div id="reproducibility-edict-7-use-git-for-version-control" class="section level2" number="3.15">
<h2><span class="header-section-number">3.15</span> Reproducibility Edict #7: Use git for Version Control</h2>
<p>RStudio provides one the cleanest, nicest interfaces, anywhere,
for using git.</p>
<p>Instructions to install git can be found within the comprehensive
online book, by Jenny Bryan, <a href="https://happygitwithr.com/install-git.html">happygitwithr</a>.</p>
<p>Accomplishing that with everyone in the short time we have would
be difficult. But I encourage those who do not yet use git and GitHub
to run through the happygitwithr book to get it all set up and start using it.</p>
</div>
<div id="in-the-meantime-a-short-demo-of-gitgithub-on-rstudio" class="section level2" number="3.16">
<h2><span class="header-section-number">3.16</span> In the meantime, a short demo of git/GitHub on RStudio</h2>
<p>Just to show, visually, what it looks like, using our small project
example.</p>
</div>
<div id="what-to-keep-under-version-control-and-what-not-to" class="section level2" number="3.17">
<h2><span class="header-section-number">3.17</span> What to keep under version control and what not to</h2>
<p>In general,</p>
<ul>
<li>keep data and code under version control</li>
<li>do not keep outputs and intermediate files under version control</li>
</ul>
<p>Exceptions that we will talk about:</p>
<ul>
<li>Very large data sets</li>
<li>HTML files from RMarkdown that you might want to use in a website.</li>
</ul>
</div>
<div id="create-a-readme-to-describe-the-parts-of-your-analysis-project" class="section level2" number="3.18">
<h2><span class="header-section-number">3.18</span> Create a README to describe the parts of your analysis project</h2>
<p>You should always have a README file that describes the project,
so that people you give it to will have a starting point, and you
will be able to refresh your memory if you come back to it after
a long time.</p>
<p>The best way to make such a README is to use an RMarkdown file,
<code>README.Rmd</code> that creates a markdown file <code>README.md</code> that can be
rendered by GitHub.</p>
<p>Such a file can be made from within RStudio by choosing
<code>File-&gt;New File-&gt;R Markdown...-&gt;From Template-&gt;GitHub Document An example</code>README.Rmd<code>is in the</code>small-project`.</p>
</div>
<div id="github-and-very-large-data-sets" class="section level2" number="3.19">
<h2><span class="header-section-number">3.19</span> GitHub and Very large data sets</h2>
<p>If you have a very large data file, that you don’t want to put on GitHub
(or it is too large for GitHub to accept), you can use the
the <code>googledrive</code> package.</p>
<p>This lets you store large data sets on Google Drive, and then download
them automatically from your R code, when you run the scripts in your
project.</p>
<p>This also allows for authentication so that you can keep private, large data
sets on Google Drive, safely.</p>
<p>Here is a <a href="https://drive.google.com/file/d/1071-7teo1dIPl9cJNigTYrBGN7I0E08U/view?usp=sharing">link</a>
to a small data set that I put up, publicly available
on Google Drive. It is a serialized R data object (<code>.rds</code>) file.</p>
<p>If you click on that link, your browser will be sent to a page
that asks if you want to download the data set.</p>
<p>But, you could access it directly from within R with the ‘googledrive’ package
like this.</p>
<p>First, get the package if you don’t already have it.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="reporg.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if you don&#39;t have the googledrive package</span></span>
<span id="cb106-2"><a href="reporg.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;googledrive&quot;</span>)</span></code></pre></div>
<p>Then, download it and read it (with <code>read_rds()</code>) in one line:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="reporg.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(googledrive)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;googledrive&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:googlesheets4&#39;:
## 
##     request_generate, request_make</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="reporg.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># since the data are publicly available on my google drive</span></span>
<span id="cb110-2"><a href="reporg.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="co"># we will not worry about authentication.  To get private</span></span>
<span id="cb110-3"><a href="reporg.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="co"># data at a different link, you would remove this and</span></span>
<span id="cb110-4"><a href="reporg.html#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="co"># run through the authentication process.</span></span>
<span id="cb110-5"><a href="reporg.html#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="fu">drive_deauth</span>()</span>
<span id="cb110-6"><a href="reporg.html#cb110-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-7"><a href="reporg.html#cb110-7" aria-hidden="true" tabindex="-1"></a><span class="co"># here is the URL for the google drive file.</span></span>
<span id="cb110-8"><a href="reporg.html#cb110-8" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://drive.google.com/file/d/1071-7teo1dIPl9cJNigTYrBGN7I0E08U/view?usp=sharing&quot;</span></span>
<span id="cb110-9"><a href="reporg.html#cb110-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-10"><a href="reporg.html#cb110-10" aria-hidden="true" tabindex="-1"></a>download_results <span class="ot">&lt;-</span> <span class="fu">drive_download</span>(url, <span class="at">overwrite =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<pre><code>## File downloaded:</code></pre>
<pre><code>## • &#39;RoSA-popgen-survey-data.rds&#39;
##   &lt;id: 1071-7teo1dIPl9cJNigTYrBGN7I0E08U&gt;</code></pre>
<pre><code>## Saved locally as:</code></pre>
<pre><code>## • &#39;RoSA-popgen-survey-data.rds&#39;</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="reporg.html#cb115-1" aria-hidden="true" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_rds</span>(download_results<span class="sc">$</span>local_path[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## # A tibble: 3,223 × 4
##    Indiv   Population rosa     pop_name               
##    &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;                  
##  1 CH12366 IGH        LLLLLLLL Iron Gate hatchery fall
##  2 CH12367 IGH        LLLLLLLL Iron Gate hatchery fall
##  3 CH12368 IGH        LLLLLLLL Iron Gate hatchery fall
##  4 CH12369 IGH        LLLLLLLL Iron Gate hatchery fall
##  5 CH12370 IGH        LLLLLLLL Iron Gate hatchery fall
##  6 CH12371 IGH        LLLLLLLL Iron Gate hatchery fall
##  7 CH12372 IGH        LLLLLLLL Iron Gate hatchery fall
##  8 CH12373 IGH        LLLLLLLL Iron Gate hatchery fall
##  9 CH12374 IGH        LLLLLLLL Iron Gate hatchery fall
## 10 CH12375 IGH        LLLLLLLL Iron Gate hatchery fall
## # … with 3,213 more rows</code></pre>
<p>More details can be found at the <a href="https://googledrive.tidyverse.org/">googledrive web page</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-the-tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="envdata.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/eriqande/merida-workshop-2022/edit/master/3.0-reproducible-organization.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/eriqande/merida-workshop-2022/commits/master/3.0-reproducible-organization.Rmd",
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["merida-workshop-2022.pdf", "merida-workshop-2022.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
